<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>FofoPet - Comunidade e Gest√£o</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root { --primary: #5FA8A0; --secondary: #e67e22; --soft: #F4F8F7; --card: rgba(255, 255, 255, 0.98); --text: #2b2b2b; }
body { margin: 0; font-family: 'Segoe UI', sans-serif; background: linear-gradient(rgba(255,255,255,0.4), rgba(255,255,255,0.4)), url("https://images.unsplash.com/photo-1516733725897-1aa73b87c8e8?q=80&w=2070&auto=format&fit=crop") center/cover no-repeat fixed; color: var(--text); }
.container { max-width: 700px; margin: auto; padding: 20px 20px 120px 20px; }
header { text-align: center; padding: 30px 0; font-size: 35px; font-weight: 800; color: var(--primary); }
.card { background: var(--card); padding: 25px; border-radius: 20px; box-shadow: 0 8px 30px rgba(0,0,0,0.06); margin-bottom: 25px; }

/* JOGO CA√áA-PALAVRAS */
.word-grid { display: grid; grid-template-columns: repeat(10, 1fr); gap: 2px; margin: 15px auto; max-width: 350px; background: #ddd; border: 2px solid #ddd; }
.cell { width: 100%; aspect-ratio: 1; background: white; display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer; user-select: none; font-size: 14px; }
.cell.selected { background: var(--secondary); color: white; }
.cell.found { background: var(--primary); color: white; }
.word-list { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-top: 10px; font-size: 13px; }
.word-item.done { text-decoration: line-through; color: #888; }

/* CALCULADORA */
.tool-box { background: var(--soft); padding: 20px; border-radius: 15px; text-align: center; border: 2px dashed var(--primary); }
.result-water { font-size: 22px; font-weight: bold; color: var(--primary); margin-top: 10px; display: none; }

/* COMPONENTES GERAIS */
.blog-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.article-card { background: var(--soft); padding: 15px; border-radius: 15px; border-left: 4px solid var(--primary); cursor: pointer; }
input, textarea { width: 100%; padding: 12px; margin: 8px 0; border-radius: 12px; border: 1.5px solid #eee; box-sizing: border-box; }
button { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 12px; font-weight: bold; cursor: pointer; width: 100%; }
.chat { position: fixed; right: 25px; bottom: 85px; width: 320px; height: 450px; background: white; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); display: flex; flex-direction: column; z-index: 1000; }
.minimized { height: 50px !important; width: 200px; overflow: hidden; }
footer { text-align: center; padding: 20px; background: rgba(255,255,255,0.9); margin-top: 40px; }
.modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); }
.modal-content { background: white; margin: 10% auto; padding: 30px; border-radius: 25px; width: 80%; max-width: 500px; position: relative; }
</style>
</head>
<body>

<header>üêæ FofoPet</header>

<div class="container">
    
    <div class="card">
        <h3>üéÆ Desafio: Ca√ßa-Palavras Pet</h3>
        <p style="font-size: 13px; color: #666;">Encontre: <b>GATO, CAO, PEIXE, AMOR</b></p>
        <div class="word-grid" id="grid"></div>
        <div class="word-list" id="wordList">
            <span class="word-item" id="w-GATO">GATO</span>
            <span class="word-item" id="w-CAO">CAO</span>
            <span class="word-item" id="w-PEIXE">PEIXE</span>
            <span class="word-item" id="w-AMOR">AMOR</span>
        </div>
        <button onclick="resetGame()" style="margin-top:15px; background:#888; font-size:12px;">Reiniciar Jogo</button>
    </div>

    <div class="card">
        <h3>üíß Calculadora de Hidrata√ß√£o</h3>
        <div class="tool-box">
            <input type="number" id="pesoPet" placeholder="Peso do pet (kg)"/>
            <button onclick="calcularAgua()" style="background: var(--secondary);">Calcular ml/dia</button>
            <div id="resultadoAgua" class="result-water"></div>
        </div>
    </div>

    <div class="card">
        <h3>üì∞ Guia de Cuidados</h3>
        <div class="blog-grid">
            <div class="article-card" onclick="abrirArtigo(1)"><h4>ü©∫ Sa√∫de</h4><p>Vacinas anuais.</p></div>
            <div class="article-card" onclick="abrirArtigo(2)"><h4>üçé Dieta</h4><p>Frutas seguras.</p></div>
        </div>
    </div>

    <div class="card">
        <h3>üìñ Mural de Hist√≥rias</h3>
        <input id="histName" placeholder="Nome do Pet"/><textarea id="histText" rows="2" placeholder="Conte algo fofo..."></textarea>
        <button onclick="salvarHistoria()">Publicar</button>
        <div id="mural" style="margin-top:15px; max-height: 150px; overflow-y: auto;"></div>
    </div>

    <div class="card">
        <h3>üí∞ Controle Financeiro</h3>
        <input type="number" id="vRacao" placeholder="Ra√ß√£o (R$)"/><input type="number" id="vVet" placeholder="Vet (R$)"/>
        <button onclick="calcularFinancas()">Atualizar Gr√°fico</button>
        <div style="max-width:160px; margin:auto;"><canvas id="graficoPet"></canvas></div>
    </div>

    <div class="card">
        <h3>üì© Contato</h3>
        <input id="emailContato" placeholder="Seu e-mail"/><textarea id="msgContato" placeholder="Mensagem"></textarea>
        <button onclick="enviarContato()" style="background: var(--secondary);">Enviar</button>
    </div>
</div>

<div class="chat minimized" id="chatWindow">
    <div style="background:var(--primary);color:white;padding:15px;cursor:pointer" onclick="toggleChat()">üí¨ Chat da Galera</div>
    <div id="chatContent" style="flex:1;padding:10px;overflow-y:auto"></div>
    <div style="padding:10px;border-top:1px solid #eee;display:flex">
        <input id="chatInput" placeholder="Oi!" style="margin:0"/>
        <button onclick="enviarChat()" style="width:40px;margin-left:5px">‚úà</button>
    </div>
</div>

<footer>
    <a href="#" onclick="abrirPolitica('sobre')">Sobre</a> | <a href="#" onclick="abrirPolitica('privacidade')">Privacidade</a> | <a href="#" onclick="abrirPolitica('termos')">Termos</a>
    <p>¬© 2026 FofoPet</p>
</footer>

<div id="modalPolitica" class="modal"><div class="modal-content"><span onclick="fecharModal()" style="cursor:pointer;float:right">&times;</span><div id="textoPolitica"></div></div></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = { apiKey: "SUA_API", authDomain: "SEU_DOMINIO", projectId: "SEU_ID" };
const app = initializeApp(firebaseConfig); const db = getFirestore(app);

// --- L√ìGICA DO CA√áA-PALAVRAS ---
const words = ["GATO", "CAO", "PEIXE", "AMOR"];
const size = 10; let selectedCells = [];
function initGrid() {
    const grid = document.getElementById('grid'); grid.innerHTML = '';
    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    for(let i=0; i<size*size; i++) {
        const cell = document.createElement('div'); cell.className = 'cell';
        cell.innerText = letters[Math.floor(Math.random()*26)];
        cell.onclick = () => {
            cell.classList.toggle('selected');
            checkWord();
        };
        grid.appendChild(cell);
    }
    // Simplifica√ß√£o: Inserindo palavras manualmente para o demo funcionar
    insertWord("GATO", 0); insertWord("CAO", 12); insertWord("PEIXE", 34); insertWord("AMOR", 80);
}
function insertWord(w, start) {
    const cells = document.querySelectorAll('.cell');
    for(let i=0; i<w.length; i++) cells[start+i].innerText = w[i];
}
function checkWord() {
    const sel = Array.from(document.querySelectorAll('.cell.selected')).map(c => c.innerText).join('');
    words.forEach(w => {
        if(sel.includes(w)) {
            document.querySelectorAll('.cell.selected').forEach(c => { if(w.includes(c.innerText)) { c.classList.remove('selected'); c.classList.add('found'); }});
            document.getElementById('w-'+w).classList.add('done');
        }
    });
}
window.resetGame = () => { document.querySelectorAll('.word-item').forEach(i=>i.classList.remove('done')); initGrid(); };
initGrid();

// --- OUTRAS FUN√á√ïES ---
window.calcularAgua = () => { const p = document.getElementById('pesoPet').value; const r = document.getElementById('resultadoAgua'); r.innerHTML = `üíß Beba ${p*60}ml hoje!`; r.style.display="block"; };
window.abrirArtigo = (id) => { document.getElementById('textoPolitica').innerHTML = id===1 ? "<h2>Sa√∫de</h2><p>Vacine seu pet.</p>" : "<h2>Dieta</h2><p>Melancia √© bom.</p>"; document.getElementById('modalPolitica').style.display="block"; };
window.abrirPolitica = (t) => { document.getElementById('textoPolitica').innerHTML = `<h2>${t}</h2><p>Conte√∫do da pol√≠tica de ${t}.</p>`; document.getElementById('modalPolitica').style.display="block"; };
window.fecharModal = () => document.getElementById('modalPolitica').style.display="none";
window.toggleChat = () => document.getElementById('chatWindow').classList.toggle('minimized');
window.calcularFinancas = () => {
    const r = +document.getElementById('vRacao').value || 10;
    if(window.myChart) window.myChart.destroy();
    window.myChart = new Chart(document.getElementById('graficoPet'), { type:'doughnut', data:{ labels:['Gasto','Meta'], datasets:[{data:[r, 100], backgroundColor:['#5FA8A0','#eee']}] }});
};
window.calcularFinancas();
</script>
</body>
</html>
