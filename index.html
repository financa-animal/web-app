<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finan√ßa Animal</title>
<script src="https://www.gstatic.com/charts/loader.js"></script>

<style>
:root { --gold:#c68642; --brown:#3e2723; --bg:#fdfbf7; }
body { margin:0; font-family:Segoe UI; background:var(--bg); }
.hero { height:30vh; background:url('https://images.unsplash.com/photo-1519098901909-b1553a1190af?q=80&w=2000') center/cover; display:flex; justify-content:center; align-items:center; color:white; font-size:2rem; font-weight:bold; border-bottom:5px solid var(--gold); }

.dashboard { max-width:1200px; margin:-40px auto; padding:20px; display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); }
.card { background:white; padding:20px; border-radius:12px; box-shadow:0 10px 25px rgba(0,0,0,.08); border-top:5px solid var(--gold); }

input, textarea { width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:6px; }
button { background:var(--gold); color:white; border:none; padding:10px; border-radius:6px; font-weight:bold; cursor:pointer; }

.flip-container { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.flip-card { perspective:1000px; height:100px; }
.flip-card-inner { position:relative; width:100%; height:100%; transition:.6s; transform-style:preserve-3d; }
.flip-card:hover .flip-card-inner { transform:rotateY(180deg); }
.flip-card-front, .flip-card-back { position:absolute; width:100%; height:100%; backface-visibility:hidden; border-radius:8px; display:flex; justify-content:center; align-items:center; color:white; }
.flip-card-front { background:var(--brown); }
.flip-card-back { background:var(--gold); transform:rotateY(180deg); }

.galeria { display:grid; grid-template-columns:repeat(auto-fill,minmax(150px,1fr)); gap:10px; }
.post { background:white; padding:8px; border-radius:8px; box-shadow:0 3px 8px rgba(0,0,0,.1); }
.post img, .post iframe { width:100%; border-radius:6px; height:120px; object-fit:cover; }
.actions { font-size:.8rem; margin-top:4px; cursor:pointer; color:red; }
.comments { font-size:.7rem; text-align:left; }

.mural-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:15px; margin-top:15px; }
.pet-post { background:#fff; padding:10px; border-radius:10px; box-shadow:0 3px 8px rgba(0,0,0,.1); }
.pet-post img { width:100%; height:140px; object-fit:cover; border-radius:8px; }
</style>
</head>

<body>

<div class="hero">FINAN√áA ANIMAL</div>

<div class="dashboard">

<!-- CALCULADORA -->
<div class="card">
<h3>üí∞ Planejamento</h3>
<input id="ali" type="number" placeholder="Alimenta√ß√£o">
<input id="sau" type="number" placeholder="Sa√∫de">
<input id="mim" type="number" placeholder="Mimos">
<button onclick="calcularTudo()">ANALISAR GASTOS</button>
<div id="chart_div" style="height:160px;"></div>
<p style="color:red;font-weight:bold">Emerg√™ncia: <span id="reserva">R$ 0</span></p>
</div>

<!-- DICAS -->
<div class="card">
<h3>üí° Dicas <button onclick="sortearConteudoDicas()" style="float:right">üîÑ</button></h3>
<div class="flip-container" id="containerDicas"></div>
</div>

<!-- MOMENTO FOFURA -->
<div class="card">
<h3>üì∏ Momento Fofura</h3>
<div class="galeria" id="galeriaFotos"></div>
</div>

<!-- MURAL -->
<div class="card" style="grid-column:1/-1">
<h3>üìñ Hist√≥ria do seu Pet</h3>
<input id="nomePet" placeholder="Nome do Pet">
<textarea id="relato" placeholder="Conte a hist√≥ria..."></textarea>
<input type="file" id="fotoPet" accept="image/*">
<button onclick="salvarMural()">PUBLICAR</button>
<div id="muralGrid" class="mural-grid"></div>
</div>

</div>

<script>
google.charts.load('current',{packages:['corechart']});

function calcularTudo(){
 const ali=+ali.value||0, sau=+sau.value||0, mim=+mim.value||0;
 reserva.innerText="R$ "+(sau*6).toFixed(2);
 google.charts.setOnLoadCallback(()=>{
  const data=google.visualization.arrayToDataTable([['Tipo','Valor'],['Alimenta√ß√£o',ali],['Sa√∫de',sau],['Mimos',mim]]);
  new google.visualization.PieChart(chart_div).draw(data,{pieHole:.5,legend:'none'});
 });
}

const bancoDicas={
 Sa√∫de:["Vacinas evitam gastos altos","Check-up √© economia","Hidrata√ß√£o √© vital"],
 "Sabia?":["Pets reduzem ansiedade","C√£es entendem emo√ß√µes","Gatos reconhecem donos"],
 Mimos:["Carinho √© o melhor mimo","Passeio > brinquedo caro","Brincar fortalece v√≠nculo"],
 Economia:["Ra√ß√£o grande √© mais barata","Prevenir sai mais barato","Escovar dentes evita vet"]
};

function sortearConteudoDicas(){
 containerDicas.innerHTML="";
 Object.keys(bancoDicas).forEach(cat=>{
  const dica=bancoDicas[cat][Math.floor(Math.random()*3)];
  containerDicas.innerHTML+=`<div class="flip-card"><div class="flip-card-inner"><div class="flip-card-front">${cat}</div><div class="flip-card-back">${dica}</div></div></div>`;
 });
}

const fotos=[
"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400",
"https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?w=400",
"https://images.unsplash.com/photo-1517849845537-4d257902454a?w=400"
];

const videos=[
"https://www.youtube.com/embed/5dsGWM5XGdg",
"https://www.youtube.com/embed/tntOCGkgt98"
];

function carregarMidia(){
 fotos.forEach(src=>criarPost(`<img src="${src}">`));
 videos.forEach(src=>criarPost(`<iframe src="${src}" allowfullscreen></iframe>`));
}

function criarPost(m){
 const id=Date.now()+Math.random();
 galeriaFotos.innerHTML+=`<div class="post">${m}<div class="actions" onclick="curtir('${id}')">‚ù§Ô∏è <span id="l${id}">0</span></div><input placeholder="Comentar..." onkeypress="if(event.key==='Enter') comentar('${id}',this)"><div id="c${id}" class="comments"></div></div>`;
}

function curtir(id){l=document.getElementById('l'+id);l.innerText=+l.innerText+1;}
function comentar(id,i){if(i.value){document.getElementById('c'+id).innerHTML+="‚Ä¢ "+i.value+"<br>";i.value="";}}

function salvarMural(){
 const nome=nomePet.value, relatoTxt=relato.value, file=fotoPet.files[0];
 if(!nome||!relatoTxt||!file)return;
 const r=new FileReader();
 r.onload=e=>muralGrid.innerHTML=`<div class="pet-post"><img src="${e.target.result}"><b>${nome}</b><p>${relatoTxt}</p></div>`+muralGrid.innerHTML;
 r.readAsDataURL(file);
}

window.onload=()=>{sortearConteudoDicas();carregarMidia();}
</script>
</body>
</html>
