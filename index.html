<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finan√ßa Animal</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#f6d365,#fda085);
}
header{
    text-align:center;
    color:white;
    padding:12px;
    font-size:22px;
    font-weight:bold;
    background:#4e342e;
}
.container{
    display:flex;
    flex-wrap:wrap;
    gap:15px;
    padding:15px;
    max-width:1200px;
    margin:auto;
}
.box{
    background:white;
    border-radius:14px;
    padding:15px;
    box-shadow:0 6px 15px rgba(0,0,0,0.15);
    flex:1;
    min-width:280px;
}
button{
    background:#6b4c2a;
    color:white;
    border:none;
    padding:8px;
    border-radius:8px;
    cursor:pointer;
}
input,textarea{width:100%;margin:6px 0;padding:6px}

/* DICAS CARD FLIP */
.tips-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.tip-card{perspective:1000px;height:90px}
.tip-inner{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d}
.tip-card.flip .tip-inner{transform:rotateY(180deg)}
.tip-front,.tip-back{
position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:10px;
display:flex;align-items:center;justify-content:center;text-align:center;padding:5px;color:white}
.tip-front{background:#3d2b1f}
.tip-back{background:#6b4c2a;transform:rotateY(180deg)}

/* GALERIA */
.gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.post{background:#fafafa;padding:8px;border-radius:10px}
.post img{width:100%;border-radius:8px;height:130px;object-fit:cover}

.login-box{background:#fff3cd;padding:10px;text-align:center}
</style>
</head>
<body>

<header>üê∂ FINAN√áA ANIMAL</header>

<div class="login-box">
<input id="user" placeholder="Seu nome">
<button onclick="login()">Entrar para postar</button>
<span id="status"></span>
</div>

<div class="container">

<div class="box">
<h3>üí∞ Planejamento</h3>
<input type="number" id="alimentacao" placeholder="Alimenta√ß√£o">
<input type="number" id="saude" placeholder="Sa√∫de">
<input type="number" id="mimos" placeholder="Mimos">
<button onclick="calcular()">Calcular</button>
<canvas id="grafico"></canvas>
<div id="emergencia"></div>
</div>

<div class="box">
<h3>üí° Dicas</h3>
<div class="tips-grid" id="tips"></div>
</div>

<div class="box">
<h3>üì∏ Momento Fofura</h3>
<input type="file" id="foto">
<button onclick="postFofura()">Postar</button>
<div class="gallery" id="gallery"></div>
</div>

</div>

<script>
let currentUser=null, chart;

/* LOGIN USU√ÅRIOS */
function login(){
 if(!user.value) return alert("Digite seu nome");
 currentUser=user.value;
 status.innerText="Logado como "+currentUser;
}

/* CALCULADORA */
function calcular(){
let a=+alimentacao.value||0,s=+saude.value||0,m=+mimos.value||0,total=a+s+m;
emergencia.innerText="Reserva emerg√™ncia: R$ "+(total*0.2).toFixed(2);
if(chart) chart.destroy();
chart=new Chart(grafico,{type:'doughnut',data:{labels:['Alimenta√ß√£o','Sa√∫de','Mimos'],datasets:[{data:[a,s,m]}]}});
}

/* DICAS FLIP */
const tipsArr=["Guarde 20%","Vacinas evitam custos","Passeio √© sa√∫de","Boa ra√ß√£o economiza","√Ågua sempre limpa","Brinquedos evitam ansiedade"];
tips.innerHTML=tipsArr.slice(0,4).map(t=>`
<div class="tip-card" onclick="this.classList.toggle('flip')">
<div class="tip-inner">
<div class="tip-front">Dica</div>
<div class="tip-back">${t}</div>
</div></div>`).join("");

/* FOTOS PADR√ÉO */
let defaultPhotos=[
"https://images.unsplash.com/photo-1518717758536-85ae29035b6d",
"https://images.unsplash.com/photo-1537151625747-768eb6cf92b2"
];
let posts=JSON.parse(localStorage.getItem("posts")||"null");
if(!posts){ posts=defaultPhotos.map(p=>({user:"Finan√ßa Animal",img:p,likes:0,comments:[]})); localStorage.setItem("posts",JSON.stringify(posts)); }

function loadPosts(){
let posts=JSON.parse(localStorage.getItem("posts"));
gallery.innerHTML="";
posts.forEach((p,i)=>{
gallery.innerHTML+=`
<div class="post">
<img src="${p.img}">
<b>${p.user}</b><br>
‚ù§Ô∏è <span onclick="like(${i})">${p.likes}</span>
</div>`;
});
}
function like(i){
let posts=JSON.parse(localStorage.getItem("posts"));
posts[i].likes++;
localStorage.setItem("posts",JSON.stringify(posts));
loadPosts();
}

function postFofura(){
if(!currentUser) return alert("Entre com seu nome primeiro");
let f=foto.files[0]; if(!f) return;
let r=new FileReader();
r.onload=e=>{
let posts=JSON.parse(localStorage.getItem("posts"));
posts.push({user:currentUser,img:e.target.result,likes:0,comments:[]});
localStorage.setItem("posts",JSON.stringify(posts));
loadPosts();
};
r.readAsDataURL(f);
}

loadPosts();
</script>
</body>
</html>
