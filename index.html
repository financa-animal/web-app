<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finan√ßa Animal | Mural da Fauna</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        :root {
            --bg-safari: #fdfbf7;
            --accent-gold: #c68642;
            --earth-brown: #3e2723;
            --card-bg: #ffffff;
        }
        body { font-family: 'Georgia', serif; background-color: var(--bg-safari); color: var(--earth-brown); margin: 0; padding-bottom: 50px; }
        
        .hero { height: 40vh; background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1547407139-3c921a66005c?q=80&w=2000'); background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; color: white; border-bottom: 5px solid var(--accent-gold); }

        .container { max-width: 1100px; margin: -30px auto 20px; padding: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px; }
        .card { background: var(--card-bg); padding: 25px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 6px solid var(--accent-gold); }
        
        /* ESTILO DO MURAL */
        .mural-container { grid-column: 1 / -1; background: var(--card-bg); padding: 30px; border-radius: 12px; border-top: 6px solid var(--earth-brown); }
        .form-historia { display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px; padding: 20px; background: #f9f6f2; border-radius: 8px; }
        .mural-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        .post-pet { background: white; border: 1px solid #ddd; padding: 15px; border-radius: 8px; text-align: center; transition: 0.3s; }
        .post-pet img { width: 100%; height: 200px; object-fit: cover; border-radius: 5px; margin-bottom: 10px; }
        
        input, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button { background: var(--earth-brown); color: white; border: none; padding: 15px; cursor: pointer; border-radius: 5px; font-weight: bold; transition: 0.3s; }
        button:hover { background: var(--accent-gold); }
        
        /* Estilos das Cartas e Gr√°fico mantidos */
        .flip-card { width: 100%; height: 150px; perspective: 1000px; margin-bottom: 10px; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 10px; display: flex; align-items: center; justify-content: center; padding: 10px; }
        .flip-card-front { background: var(--earth-brown); color: white; }
        .flip-card-back { background: var(--accent-gold); color: white; transform: rotateY(180deg); }
    </style>
</head>
<body>

<header class="hero">
    <h1>MURAL DA FAUNA</h1>
</header>

<div class="container">
    <section class="card">
        <h2>üí∞ Planejamento</h2>
        <input type="number" id="ali" placeholder="Alimenta√ß√£o">
        <input type="number" id="sau" placeholder="Sa√∫de">
        <input type="number" id="mim" placeholder="Mimos">
        <button onclick="calcularTudo()">CALCULAR</button>
        <div id="chart_div" style="height: 200px;"></div>
    </section>

    <section class="card">
        <h2>üí° Voc√™ Sabia?</h2>
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">üêò Elefante</div>
                <div class="flip-card-back">T√™m mem√≥ria incr√≠vel para recursos.</div>
            </div>
        </div>
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">ü¶â Coruja</div>
                <div class="flip-card-back">S√≠mbolo de vis√£o estrat√©gica.</div>
            </div>
        </div>
    </section>

    <section class="mural-container">
        <h2>üìñ Hist√≥rias da Nossa Alcateia</h2>
        <div class="form-historia">
            <input type="text" id="nomePet" placeholder="Nome do seu Pet">
            <textarea id="relato" placeholder="Conte a hist√≥ria de voc√™s..."></textarea>
            <label>Foto do Pet:</label>
            <input type="file" id="fotoPet" accept="image/*">
            <button onclick="salvarHistoria()">REGISTRAR NO MURAL</button>
        </div>

        <div id="muralGrid" class="mural-grid">
            </div>
    </section>
</div>

<script>
    google.charts.load('current', {'packages':['corechart']});

    // Carregar hist√≥rias ao abrir o site
    window.onload = function() {
        exibirHistorias();
    };

    function salvarHistoria() {
        const nome = document.getElementById('nomePet').value;
        const texto = document.getElementById('relato').value;
        const fotoInput = document.getElementById('fotoPet');

        if (!nome || !texto || !fotoInput.files[0]) {
            alert("Por favor, preencha tudo e escolha uma foto!");
            return;
        }

        const reader = new FileReader();
        reader.onload = function(e) {
            const novaHistoria = {
                nome: nome,
                relato: texto,
                foto: e.target.result
            };

            let historias = JSON.parse(localStorage.getItem('muralPets')) || [];
            historias.push(novaHistoria);
            localStorage.setItem('muralPets', JSON.stringify(historias));
            
            exibirHistorias();
            // Limpar campos
            document.getElementById('nomePet').value = '';
            document.getElementById('relato').value = '';
        };
        reader.readAsDataURL(fotoInput.files[0]);
    }

    function exibirHistorias() {
        const grid = document.getElementById('muralGrid');
        const historias = JSON.parse(localStorage.getItem('muralPets')) || [];
        
        grid.innerHTML = historias.map(h => `
            <div class="post-pet">
                <img src="${h.foto}">
                <h3>${h.nome}</h3>
                <p>${h.relato}</p>
            </div>
        `).join('');
    }

    function calcularTudo() {
        const ali = parseFloat(document.getElementById('ali').value) || 0;
        const sau = parseFloat(document.getElementById('sau').value) || 0;
        const mim = parseFloat(document.getElementById('mim').value) || 0;
        const data = google.visualization.arrayToDataTable([
            ['Gasto', 'R$'], ['Alimenta√ß√£o', ali], ['Sa√∫de', sau], ['Mimos', mim]
        ]);
        new google.visualization.PieChart(document.getElementById('chart_div')).draw(data, {
            pieHole: 0.4, colors: ['#3e2723', '#c68642', '#8d6e63'], chartArea: {width:'90%', height:'80%'}
        });
    }
</script>
</body>
</html>
