<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Finan√ßa Animal</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f5f2ed;
}
header{
  background:url("https://images.unsplash.com/photo-1548199973-03cce0bbc87b");
  background-size:cover;
  padding:30px;
  text-align:center;
  color:#fff;
  font-size:28px;
  font-weight:bold;
  letter-spacing:2px;
}

.container{
  display:flex;
  gap:20px;
  padding:20px;
}

.card-box{
  background:#fff;
  flex:1;
  padding:15px;
  border-radius:10px;
  box-shadow:0 0 10px rgba(0,0,0,.1);
}

h2{margin-top:0}

button{
  background:#b57a3d;
  color:#fff;
  border:none;
  padding:8px 12px;
  border-radius:6px;
  cursor:pointer;
  font-weight:bold;
}

input, textarea{
  width:100%;
  padding:8px;
  margin:6px 0;
  border-radius:6px;
  border:1px solid #ccc;
}

canvas{max-width:100%}

/* DICAS */
.dicas-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.flip-card{
  perspective:1000px;
  height:90px;
}

.flip-inner{
  position:relative;
  width:100%;
  height:100%;
  transition:transform .6s;
  transform-style:preserve-3d;
  cursor:pointer;
}

.flip-card:hover .flip-inner{
  transform:rotateY(180deg);
}

.flip-front, .flip-back{
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:8px;
  font-size:14px;
}

.flip-front{background:#3a2a24;color:#fff;}
.flip-back{background:#5a3f35;color:#fff;transform:rotateY(180deg);}

/* MOMENTO FOFURA */
.galeria{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.foto-card{
  background:#fff;
  border-radius:10px;
  box-shadow:0 0 5px rgba(0,0,0,.1);
  padding:5px;
}

.foto-card img{
  width:100%;
  height:130px;
  object-fit:cover;
  border-radius:8px;
}

.acoes{
  font-size:13px;
  margin-top:5px;
}

.comentarios{
  width:100%;
  padding:5px;
  margin-top:4px;
  border-radius:6px;
  border:1px solid #ccc;
}

/* HIST√ìRIA */
.historia{
  margin:20px;
  background:#fff;
  padding:15px;
  border-radius:10px;
  box-shadow:0 0 10px rgba(0,0,0,.1);
}
</style>
</head>
<body>

<header>FINAN√áA ANIMAL</header>

<div class="container">

<!-- PLANEJAMENTO -->
<div class="card-box">
<h2>üí∞ Planejamento</h2>
<input type="number" id="alimentacao" placeholder="Alimenta√ß√£o (Mensal)">
<input type="number" id="saude" placeholder="Sa√∫de (Mensal)">
<input type="number" id="mimos" placeholder="Mimos (Mensal)">
<button onclick="analisar()">ANALISAR GASTOS</button>
<canvas id="grafico"></canvas>
<p style="color:red;font-weight:bold">üö® Emerg√™ncia: R$ <span id="emergencia">0</span></p>
</div>

<!-- DICAS -->
<div class="card-box">
<h2>üí° Dicas <button onclick="gerarDicas()">ATUALIZAR</button></h2>
<div class="dicas-grid" id="dicas"></div>
</div>

<!-- FOFURA -->
<div class="card-box">
<h2>üì∏ Momento Fofura</h2>
<div class="galeria" id="galeria"></div>
<input type="file" id="upload">
<button onclick="addFoto()">NOVAS FOTOS</button>
</div>

</div>

<!-- HIST√ìRIA -->
<div class="historia">
<h2>üìñ Registre a hist√≥ria do seu Pet com uma foto</h2>
<input id="nomePet" placeholder="Nome do Pet">
<textarea id="historiaPet" placeholder="Como voc√™s se conheceram?"></textarea>
<input type="file" id="fotoPet">
<button onclick="salvarHistoria()">REGISTRAR NO MURAL üêæ</button>
<div id="mural"></div>
</div>

<script>
/* CALCULADORA */
let grafico;
function analisar(){
 let a=+alimentacao.value||0;
 let s=+saude.value||0;
 let m=+mimos.value||0;
 let total=a+s+m;
 emergencia.innerText=(total*0.2).toFixed(2);

 if(grafico) grafico.destroy();
 grafico=new Chart(grafico=document.getElementById('grafico'),{
  type:'pie',
  data:{labels:['Alimenta√ß√£o','Sa√∫de','Mimos'],
  datasets:[{data:[a,s,m]}]}
 });
}

/* DICAS */
const dicasLista=[
["Vacinas em dia","Evita gastos altos com doen√ßas"],
["Guardar 20%","Cria fundo de emerg√™ncia pet"],
["Ra√ß√£o de qualidade","Menos problemas de sa√∫de"],
["Check-up anual","Previne surpresas caras"],
["Brinquedos dur√°veis","Economia a longo prazo"],
["Banho em casa","Reduz gastos mensais"]
];

function gerarDicas(){
 let usadas=[];
 dicas.innerHTML="";
 while(usadas.length<4){
   let i=Math.floor(Math.random()*dicasLista.length);
   if(!usadas.includes(i)) usadas.push(i);
 }
 usadas.forEach(i=>{
   dicas.innerHTML+=`
   <div class="flip-card">
     <div class="flip-inner">
       <div class="flip-front">${dicasLista[i][0]}</div>
       <div class="flip-back">${dicasLista[i][1]}</div>
     </div>
   </div>`;
 });
}
gerarDicas();

/* GALERIA */
function criarFoto(src){
 let div=document.createElement("div");
 div.className="foto-card";
 div.innerHTML=`
   <img src="${src}">
   <div class="acoes">‚ù§Ô∏è <span>0</span></div>
   <input class="comentarios" placeholder="Comentar...">
 `;
 div.querySelector(".acoes").onclick=()=> {
   let n=div.querySelector("span");
   n.innerText=parseInt(n.innerText)+1;
 }
 galeria.appendChild(div);
}

["https://images.unsplash.com/photo-1518717758536-85ae29035b6d",
 "https://images.unsplash.com/photo-1507149833265-60c372daea22",
 "https://images.unsplash.com/photo-1558788353-f76d92427f16"].forEach(criarFoto);

function addFoto(){
 let file=upload.files[0];
 if(!file) return;
 let reader=new FileReader();
 reader.onload=e=>criarFoto(e.target.result);
 reader.readAsDataURL(file);
}

/* HIST√ìRIA */
function salvarHistoria(){
 let nome=nomePet.value;
 let hist=historiaPet.value;
 let file=fotoPet.files[0];
 if(!nome||!hist||!file) return;

 let reader=new FileReader();
 reader.onload=e=>{
   mural.innerHTML+=`
   <div class="foto-card">
     <img src="${e.target.result}">
     <b>${nome}</b>
     <p>${hist}</p>
   </div>`;
 }
 reader.readAsDataURL(file);
}
</script>

</body>
</html>
