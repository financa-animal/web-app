<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finan√ßa Animal | Dashboard</title>
<script src="https://www.gstatic.com/charts/loader.js"></script>

<style>
:root { --bg-body:#fdfbf7; --white:#fff; --accent-gold:#c68642; --earth-brown:#3e2723; }
body { font-family:'Segoe UI'; background:var(--bg-body); margin:0; padding-bottom:50px; }

.hero { height:35vh; background:linear-gradient(rgba(0,0,0,.3),rgba(0,0,0,.4)), url('https://images.unsplash.com/photo-1519098901909-b1553a1190af?q=80&w=2000'); background-size:cover; display:flex; align-items:center; justify-content:center; color:#fff; border-bottom:6px solid var(--accent-gold);}
.hero h1{font-size:3rem;margin:0;text-shadow:2px 2px 10px rgba(0,0,0,.7);}

.dashboard{max-width:1200px;margin:-40px auto 20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px;padding:0 20px;}
.dash-card{background:#fff;border-radius:12px;padding:25px;box-shadow:0 10px 30px rgba(0,0,0,.08);border-top:5px solid var(--accent-gold);}
.dash-card h2{font-size:1.1rem;color:var(--earth-brown);border-bottom:2px solid #eee;padding-bottom:10px;margin-top:0;display:flex;justify-content:space-between;}

.galeria-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:15px;}
.post{background:#fff;border-radius:10px;padding:10px;box-shadow:0 5px 15px rgba(0,0,0,.08);}
.post img, .post iframe{width:100%;height:140px;object-fit:cover;border-radius:8px;}
.actions{display:flex;justify-content:space-between;font-size:.8rem;margin-top:5px;}
.comment-box{margin-top:5px;}
.comment-box input{width:100%;padding:5px;border:1px solid #ddd;border-radius:5px;font-size:.7rem;}
.comments{font-size:.7rem;margin-top:5px;color:#555;}

.mural-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;margin-top:25px;}
.pet-post{background:#fff;border:1px solid #eee;padding:10px;border-radius:10px;}
.pet-post img{width:100%;height:150px;object-fit:cover;border-radius:8px;}
.like-btn{cursor:pointer;color:#c68642;font-weight:bold;}

input, textarea{width:100%;padding:12px;margin-bottom:10px;border:1px solid #eee;border-radius:6px;}
button{background:var(--accent-gold);color:#fff;border:none;padding:12px;width:100%;border-radius:6px;font-weight:bold;cursor:pointer;}
button:hover{background:var(--earth-brown);}
</style>
</head>
<body>

<header class="hero"><h1>FINAN√áA ANIMAL</h1></header>

<div class="dashboard">

<!-- PLANEJAMENTO (INALTERADO) -->
<section class="dash-card">
<h2>üí∞ Planejamento</h2>
<input type="number" id="ali" placeholder="Alimenta√ß√£o (Mensal)">
<input type="number" id="sau" placeholder="Sa√∫de (Mensal)">
<input type="number" id="mim" placeholder="Mimos (Mensal)">
<button onclick="calcularTudo()">ANALISAR GASTOS</button>
<div id="chart_div" style="height:140px;margin-top:10px;"></div>
<p style="font-size:.8rem;color:#d32f2f;font-weight:bold;text-align:center;">üõ°Ô∏è Emerg√™ncia: <span id="reserva">R$ 0,00</span></p>
</section>

<!-- DICAS (INALTERADO) -->
<section class="dash-card">
<h2>üí° Dicas <button onclick="sortearConteudoDicas()" style="width:auto;padding:2px 10px;font-size:10px;">üîÑ</button></h2>
<div id="containerDicas"></div>
</section>

<!-- MOMENTO FOFURA ATUALIZADO -->
<section class="dash-card">
<h2>üì∏ Momento Fofura</h2>
<div class="galeria-grid" id="galeriaFofura"></div>
</section>

<!-- MURAL -->
<section class="dash-card" style="grid-column:1/-1;">
<h2>üìñ Hist√≥ria do seu Pet</h2>
<input type="text" id="nomePet" placeholder="Nome do Pet">
<textarea id="relato" placeholder="Conte a hist√≥ria..."></textarea>
<input type="file" id="fotoPet">
<button onclick="salvarMural()">PUBLICAR üêæ</button>
<div id="muralGrid" class="mural-grid"></div>
</section>

</div>

<script>
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(()=>{});

/* ================== FOTOS + V√çDEOS ================== */
const listaImagens = [
"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=300",
"https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=300",
"https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=300",
"https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?w=300",
"https://images.unsplash.com/photo-1548191265-cc70d3d45ba1?w=300",
"https://images.unsplash.com/photo-1552053831-71594a27632d?w=300",
"https://images.unsplash.com/photo-1517423440428-a5a00ad1e3e8?w=300"
];

const videosFofos = [
"https://www.youtube.com/embed/j5a0jTc9S10",
"https://www.youtube.com/embed/3tmd-ClpJxA",
"https://www.youtube.com/embed/l9PxOanFjxQ"
];

function carregarFotos() {
    const grid = document.getElementById('galeriaFotos');
    grid.innerHTML = "";

    listaImagens.forEach(url => criarPost(grid, `<img src="${url}">`));
    videosFofos.forEach(v => criarPost(grid, `<iframe src="${v}" frameborder="0" allowfullscreen></iframe>`));
}

function criarPost(grid, midia){
    const id = Date.now() + Math.random();
    const div = document.createElement('div');
    div.className = 'pet-post';
    div.innerHTML = `
        ${midia}
        <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-top:5px;">
            <span onclick="curtir('${id}')" style="cursor:pointer;color:#c68642;">‚ù§Ô∏è <span id="l${id}">0</span></span>
        </div>
        <input placeholder="Comentar..." onkeypress="if(event.key==='Enter') comentar('${id}',this)" style="margin-top:5px;font-size:0.7rem;">
        <div id="c${id}" style="font-size:0.7rem;color:#555;"></div>
    `;
    grid.appendChild(div);
}

/* ================== CURTIDAS & COMENT√ÅRIOS ================== */
function curtir(id){
    const el = document.getElementById('l'+id);
    el.innerText = parseInt(el.innerText)+1;
}

function comentar(id,input){
    const box = document.getElementById('c'+id);
    if(input.value.trim()!==""){
        box.innerHTML += `<div>‚Ä¢ ${input.value}</div>`;
        input.value="";
    }
}

/* ================== DICAS (RESTAURADO) ================== */
const bancoDicas = {
"Sa√∫de":["Check-ups anuais economizam 40% em emerg√™ncias.","Vacinas em dia evitam gastos pesados.","Castra√ß√£o previne doen√ßas graves."],
"Sabia?":["Elefantes lembram rotas de √°gua.","Gatos t√™m 32 m√∫sculos nas orelhas.","C√£es entendem at√© 250 palavras."],
"Mimos":["Brinquedos de garrafa pet funcionam.","Petiscos de fruta s√£o baratos.","Passeios valem mais que brinquedos caros."],
"Economia":["Ra√ß√£o de 15kg sai mais barata.","Filtro de barro mant√©m √°gua fresca.","Escovar dentes evita veterin√°rio."]
};

function sortearConteudoDicas(){
    const temas=["Sa√∫de","Sabia?","Mimos","Economia"];
    document.getElementById("containerDicas").innerHTML="";
    temas.forEach(t=>{
        const div=document.createElement('div');
        div.className='flip-card';
        div.innerHTML=`
        <div class="flip-card-inner">
            <div class="flip-card-front">${t}</div>
            <div class="flip-card-back">${bancoDicas[t][Math.floor(Math.random()*bancoDicas[t].length)]}</div>
        </div>`;
        document.getElementById("containerDicas").appendChild(div);
    });
}

/* ================== CALCULADORA (RESTAURADO) ================== */
function calcularTudo(){
    const ali=parseFloat(document.getElementById('ali').value)||0;
    const sau=parseFloat(document.getElementById('sau').value)||0;
    const mim=parseFloat(document.getElementById('mim').value)||0;
    document.getElementById('reserva').innerText=`R$ ${(sau*6).toFixed(2)}`;
    const data=google.visualization.arrayToDataTable([
        ['Gasto','R$'],['Comida',ali],['Sa√∫de',sau],['Mimos',mim]
    ]);
    new google.visualization.PieChart(document.getElementById('chart_div')).draw(data,{
        pieHole:0.4, colors:['#3e2723','#c68642','#d2b48c'], legend:'none', chartArea:{width:'100%',height:'100%'}
    });
}

/* ================== MURAL COM INTERA√á√ÉO ================== */
function salvarMural(){
    const nome=nomePet.value, relato=relato.value, foto=fotoPet.files[0];
    if(nome&&relato&&foto){
        const reader=new FileReader();
        reader.onload=e=>{
            const id=Date.now();
            const div=document.createElement('div');
            div.className='pet-post';
            div.innerHTML=`
            <img src="${e.target.result}">
            <strong>${nome}</strong>
            <p style="font-size:0.8rem">${relato}</p>
            <span onclick="curtir('${id}')" style="cursor:pointer;color:#c68642;">‚ù§Ô∏è <span id="l${id}">0</span></span>
            <input placeholder="Comentar..." onkeypress="if(event.key==='Enter') comentar('${id}',this)" style="margin-top:5px;font-size:0.7rem;">
            <div id="c${id}" style="font-size:0.7rem;color:#555;"></div>`;
            muralGrid.prepend(div);
        };
        reader.readAsDataURL(foto);
    }
}

window.onload=()=>{
    carregarFotos();
    sortearConteudoDicas();
};
</script>
</body>
</html>

