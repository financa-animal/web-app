<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Finan√ßa Animal</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
*{box-sizing:border-box;}

body{
 font-family:Arial;
 margin:0;
 background:url('https://images.unsplash.com/photo-1548199973-03cce0bbc87b') center/cover fixed;
}

.topo{
 text-align:center;
 color:white;
 padding:20px;
 font-size:28px;
 font-weight:bold;
 background:rgba(0,0,0,0.6);
}

.container{
 display:flex;
 gap:20px;
 padding:20px;
 max-width:1200px;
 margin:auto;
}

.box{
 background:white;
 padding:15px;
 border-radius:10px;
 flex:1;
 box-shadow:0 0 10px rgba(0,0,0,0.2);
 min-width:280px;
}

button{
 background:#b57b38;
 color:white;
 border:none;
 padding:8px 12px;
 border-radius:6px;
 cursor:pointer;
}

input, textarea{
 width:100%;
 padding:6px;
 margin:5px 0;
}

/* gr√°fico */
canvas{
 max-width:300px !important;
 max-height:300px !important;
 margin:auto;
 display:block;
}

/* dicas cards */
.dicas-grid{
 display:grid;
 grid-template-columns:repeat(2,1fr);
 gap:10px;
}

.card{
 perspective:1000px;
 height:90px;
 cursor:pointer;
}

.card-inner{
 position:relative;
 width:100%;
 height:100%;
 transition:transform 0.6s;
 transform-style:preserve-3d;
}

.card.flipped .card-inner{
 transform:rotateY(180deg);
}

.card-front,.card-back{
 position:absolute;
 width:100%;
 height:100%;
 backface-visibility:hidden;
 border-radius:8px;
 display:flex;
 align-items:center;
 justify-content:center;
 text-align:center;
 padding:10px;
 color:white;
 font-weight:bold;
}

.card-front{background:#3b2b25;}
.card-back{background:#6d4c41; transform:rotateY(180deg);}

/* fotos */
.galeria{
 display:grid;
 grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
 gap:10px;
}

.foto-card{
 background:#fff;
 border-radius:8px;
 padding:5px;
 box-shadow:0 0 5px rgba(0,0,0,0.2);
}

.foto-card img{
 width:100%;
 height:110px;
 object-fit:cover;
 border-radius:6px;
}

.like{color:red;cursor:pointer}

.mural{
 margin:20px auto;
 background:white;
 padding:15px;
 border-radius:10px;
 max-width:1200px;
}

.post{
 border-bottom:1px solid #ddd;
 padding:10px 0;
}

.post img{
 width:100%;
 max-width:300px;
 border-radius:8px;
}

@media(max-width:900px){
 .container{flex-direction:column;}
 canvas{max-width:220px !important;max-height:220px !important;}
}
</style>
</head>

<body>
<div class="topo">FINAN√áA ANIMAL</div>

<div class="container">

<!-- PLANEJAMENTO -->
<div class="box">
<h3>üí∞ Planejamento</h3>
<input type="number" id="a" placeholder="Alimenta√ß√£o">
<input type="number" id="s" placeholder="Sa√∫de">
<input type="number" id="m" placeholder="Mimos">
<button onclick="calc()">ANALISAR GASTOS</button>
<canvas id="grafico"></canvas>
<p style="color:red">Emerg√™ncia: R$ <span id="emerg">0</span></p>
</div>

<!-- DICAS -->
<div class="box">
<h3>üí° Dicas <button onclick="atualizarDicas()">Atualizar</button></h3>
<div class="dicas-grid" id="dicas"></div>
</div>

<!-- MOMENTO FOFURA -->
<div class="box">
<h3>üì∏ Momento Fofura</h3>
<div class="galeria" id="galeria"></div>
</div>

</div>

<!-- MURAL -->
<div class="mural">
<h3>üìñ Registre a hist√≥ria do seu Pet com uma foto</h3>
<input id="nome" placeholder="Nome do Pet">
<textarea id="hist" placeholder="Como voc√™s se conheceram?"></textarea>
<input type="file" id="foto">
<button onclick="postar()">Registrar no Mural</button>
<div id="posts"></div>
</div>

<script>
let graf;

function calc(){
 let a=+a.value, s=+s.value, m=+m.value;
 let total=a+s+m;
 let emergencia=(total*0.2).toFixed(2);
 emerg.textContent=emergencia;

 if(graf)graf.destroy();
 graf=new Chart(grafico,{
  type:'pie',
  data:{
   labels:['Alimenta√ß√£o','Sa√∫de','Mimos'],
   datasets:[{data:[a,s,m],backgroundColor:['#42a5f5','#ef5350','#ffa726']}]
  }
 });
}

/* DICAS */
const listaDicas=[
"Vacinas evitam gastos altos",
"Guardar 20% ajuda emerg√™ncias",
"Passeios melhoram humor do pet",
"Ra√ß√£o de qualidade evita doen√ßas",
"√Ågua fresca sempre dispon√≠vel",
"Escovar os pelos reduz problemas"
];

function atualizarDicas(){
 dicas.innerHTML='';
 let usadas=[];
 while(usadas.length<4){
  let i=Math.floor(Math.random()*listaDicas.length);
  if(!usadas.includes(i)) usadas.push(i);
 }
 usadas.forEach(i=>{
  let c=document.createElement('div');
  c.className='card';
  c.innerHTML=`<div class="card-inner">
   <div class="card-front">Dica Pet</div>
   <div class="card-back">${listaDicas[i]}</div>
  </div>`;
  c.onclick=()=>c.classList.toggle('flipped');
  dicas.appendChild(c);
 });
}
atualizarDicas();

/* FOTOS */
const fotos=[
"https://images.unsplash.com/photo-1517849845537-4d257902454a",
"https://images.unsplash.com/photo-1558788353-f76d92427f16",
"https://images.unsplash.com/photo-1507149833265-60c372daea22",
"https://images.unsplash.com/photo-1518717758536-85ae29035b6d"
];

fotos.forEach(src=>{
 let c=document.createElement('div');
 c.className='foto-card';
 c.innerHTML=`<img src="${src}">
 <div><span class="like" onclick="curtir(this)">‚ù§</span> <span>0</span></div>
 <input placeholder="Comentar...">`;
 galeria.appendChild(c);
});

function curtir(el){
 let n=el.nextElementSibling;
 n.textContent=+n.textContent+1;
}

/* MURAL */
function postar(){
 let n=nome.value,h=hist.value,f=foto.files[0];
 if(!n||!h||!f)return alert("Preencha tudo");
 let r=new FileReader();
 r.onload=e=>{
  let div=document.createElement('div');
  div.className='post';
  div.innerHTML=`<b>${n}</b><p>${h}</p><img src="${e.target.result}">
  <br><button onclick="this.parentElement.remove()">Excluir</button>`;
  posts.appendChild(div);
 };
 r.readAsDataURL(f);
}
</script>
</body>
</html>
