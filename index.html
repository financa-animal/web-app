<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Finan√ßa Animal</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
font-family:Arial;margin:0;
background:linear-gradient(rgba(0,0,0,.45),rgba(0,0,0,.45)),
url('https://images.unsplash.com/photo-1507149833265-60c372daea22?auto=format&fit=crop&w=1600&q=80')
center/cover fixed;
}
header{background:#4e342e;color:white;text-align:center;padding:15px;font-size:22px;}
.container{max-width:900px;margin:auto;padding:15px;}
.box{background:white;border-radius:15px;padding:15px;margin-bottom:20px;box-shadow:0 4px 10px rgba(0,0,0,0.2);}
input,textarea,button{width:100%;padding:8px;margin-top:6px;border-radius:8px;border:1px solid #ccc;}
button{background:#6d4c41;color:white;font-weight:bold;border:none;cursor:pointer}
canvas{max-width:220px;margin:auto;display:block}

/* DICAS */
.tip-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;}
.tip-card{perspective:1000px;height:100px;}
.tip-inner{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d;}
.tip-card:hover .tip-inner{transform:rotateY(180deg);}
.tip-front,.tip-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:10px;display:flex;align-items:center;justify-content:center;text-align:center;padding:5px;}
.tip-front{background:#ffca28;font-weight:bold}
.tip-back{background:#6d4c41;color:white;transform:rotateY(180deg);}

/* POSTS */
.post img{width:100%;border-radius:10px;margin-top:5px}
.actions{display:flex;gap:10px;margin-top:5px}
.comment{background:#f1f1f1;margin-top:5px;padding:5px;border-radius:5px}
video{width:100%;border-radius:10px;margin-top:10px}
</style>
</head>

<body>
<header>üêæ Finan√ßa Animal</header>
<div class="container">

<!-- CALCULADORA -->
<div class="box">
<h3>üí∞ Planejamento do Pet</h3>
<input id="food" type="number" placeholder="Alimenta√ß√£o">
<input id="health" type="number" placeholder="Sa√∫de">
<input id="extras" type="number" placeholder="Mimos">
<button onclick="calc()">Analisar Gastos</button>
<p id="alert"></p>
<canvas id="chart"></canvas>
</div>

<!-- DICAS -->
<div class="box">
<h3>üí° Dicas <button onclick="updateTips()">Atualizar</button></h3>
<div class="tip-grid" id="tips"></div>
</div>

<!-- HIST√ìRIA PET -->
<div class="box">
<h3>üìñ Hist√≥ria do seu Pet</h3>
<input id="petName" placeholder="Nome do Pet">
<textarea id="story" placeholder="Conte a hist√≥ria"></textarea>
<input type="file" id="photos" multiple>
<button onclick="postStory()">Publicar Hist√≥ria</button>
<div id="stories"></div>
</div>

<!-- MOMENTO FOFURA -->
<div class="box">
<h3>üì∏ Momento Fofura</h3>
<input type="file" id="cuteUpload">
<button onclick="addCute()">Adicionar Foto Fofa</button>
<div id="cute"></div>
</div>

<!-- V√çDEOS -->
<div class="box">
<h3>üé• V√≠deos Engra√ßados de Pets</h3>
<input type="file" id="videoUpload" accept="video/*">
<button onclick="addVideo()">Adicionar V√≠deo</button>
<div id="videos"></div>
</div>

</div>

<script>
/* CALCULADORA */
let chart;
function calc(){
let f=+food.value||0,h=+health.value||0,e=+extras.value||0,total=f+h+e;
alert.innerText=total>500?"‚ö† Gastando muito!":"‚úÖ Gastos sob controle!";
if(chart)chart.destroy();
chart=new Chart(document.getElementById("chart"),{
type:'doughnut',
data:{labels:["Alimenta√ß√£o","Sa√∫de","Mimos"],datasets:[{data:[f,h,e]}]}
});
}

/* DICAS */
const tipList=["Vacinas evitam gastos grandes","Ra√ß√£o boa reduz veterin√°rio","Escovar dentes evita cirurgia","Passeio mant√©m sa√∫de","Hidrata√ß√£o √© essencial","Brincar reduz ansiedade"];
function updateTips(){
tips.innerHTML="";
tipList.sort(()=>0.5-Math.random()).slice(0,4).forEach(t=>{
tips.innerHTML+=`<div class="tip-card"><div class="tip-inner">
<div class="tip-front">üê∂ Dica</div>
<div class="tip-back">${t}</div>
</div></div>`;
});
}
updateTips();

/* HIST√ìRIAS */
function postStory(){
let name=petName.value,txt=story.value,files=photos.files;
if(!name||!txt||files.length===0)return alert("Preencha tudo");

let storyDiv=document.createElement("div");
storyDiv.className="post";
storyDiv.innerHTML=`<h4>${name}</h4><p>${txt}</p>`;

Array.from(files).forEach(f=>{
let r=new FileReader();
r.onload=e=>storyDiv.innerHTML+=`<img src="${e.target.result}">`;
r.readAsDataURL(f);
});

let likeBtn=document.createElement("button");
likeBtn.innerText="‚ù§Ô∏è Curtir";
let likes=0;
likeBtn.onclick=()=>{likes++;likeBtn.innerText=`‚ù§Ô∏è ${likes}`;}

let delBtn=document.createElement("button");
delBtn.innerText="Excluir";
delBtn.onclick=()=>storyDiv.remove();

let editBtn=document.createElement("button");
editBtn.innerText="Editar";
editBtn.onclick=()=>{
let novo=prompt("Editar texto:",txt);
if(novo){storyDiv.querySelector("p").innerText=novo;}
}

let cInput=document.createElement("input");
cInput.placeholder="Comentar";
cInput.onchange=()=>storyDiv.innerHTML+=`<div class="comment">${cInput.value}</div>`;

storyDiv.append(likeBtn,editBtn,delBtn,cInput);
stories.appendChild(storyDiv);
}

/* MOMENTO FOFURA */
const cuteImgs=[
"https://images.unsplash.com/photo-1548199973-03cce0bbc87b",
"https://images.unsplash.com/photo-1518717758536-85ae29035b6d"
];
cuteImgs.forEach(src=>addCuteImg(src));

function addCuteImg(src){
let div=document.createElement("div");
div.innerHTML=`<img src="${src}">`;
let like=0;
let btn=document.createElement("button");
btn.innerText="‚ù§Ô∏è 0";
btn.onclick=()=>{like++;btn.innerText=`‚ù§Ô∏è ${like}`;}
let c=document.createElement("input");
c.placeholder="Comentar";
c.onchange=()=>div.innerHTML+=`<div class="comment">${c.value}</div>`;
div.append(btn,c);
cute.appendChild(div);
}

function addCute(){
let f=cuteUpload.files[0];if(!f)return;
let r=new FileReader();
r.onload=e=>addCuteImg(e.target.result);
r.readAsDataURL(f);
}

/* V√çDEOS */
function addVideo(){
let f=videoUpload.files[0];if(!f)return;
let r=new FileReader();
r.onload=e=>videos.innerHTML+=`<video src="${e.target.result}" controls loop></video>`;
r.readAsDataURL(f);
}
</script>
</body>
</html>
