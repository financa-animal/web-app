<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finan√ßa Animal | Dashboard</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        :root { --bg-body: #fdfbf7; --white: #ffffff; --accent-gold: #c68642; --earth-brown: #3e2723; }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg-body); margin: 0; padding-bottom: 50px; }
        
        /* CABE√áALHO SAFARI */
        .hero { height: 35vh; background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1519098901909-b1553a1190af?q=80&w=2000'); background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; color: white; border-bottom: 6px solid var(--accent-gold); }
        .hero h1 { font-size: 3rem; text-shadow: 2px 2px 10px rgba(0,0,0,0.7); margin: 0; }

        .dashboard { max-width: 1200px; margin: -40px auto 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; padding: 0 20px; }
        .dash-card { background: var(--white); border-radius: 12px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border-top: 5px solid var(--accent-gold); }
        .dash-card h2 { font-size: 1.1rem; color: var(--earth-brown); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 0; display: flex; justify-content: space-between; align-items: center; }

        /* CARTAS DICAS DIN√ÇMICAS */
        .flip-container { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
        .flip-card { height: 110px; perspective: 1000px; cursor: pointer; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 8px; display: flex; align-items: center; justify-content: center; padding: 10px; text-align: center; font-size: 0.8rem; }
        .flip-card-front { background: var(--earth-brown); color: white; border: 1px solid var(--accent-gold); font-weight: bold; }
        .flip-card-back { background: var(--accent-gold); color: white; transform: rotateY(180deg); }

        /* GALERIA (S√ì FOTOS QUE FUNCIONAM) */
        .galeria-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 15px; }
        .galeria-grid img { width: 100%; height: 75px; object-fit: cover; border-radius: 6px; border: 2px solid transparent; transition: 0.2s; }
        .galeria-grid img:hover { border-color: var(--accent-gold); transform: scale(1.05); }

        /* MURAL COM OP√á√ÉO DE APAGAR */
        .mural-input { grid-column: 1 / -1; background: var(--white); padding: 30px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        .mural-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; margin-top: 25px; }
        .pet-post { background: #fdfbf7; border: 1px solid #eee; padding: 15px; border-radius: 10px; text-align: center; position: relative; }
        .pet-post img { width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; }
        .btn-delete { position: absolute; top: 5px; right: 5px; background: #d32f2f; color: white; border: none; border-radius: 50%; width: 25px; height: 25px; cursor: pointer; font-size: 12px; font-weight: bold; }

        input, textarea { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #eee; border-radius: 6px; box-sizing: border-box; background: #fafafa; }
        button { background: var(--accent-gold); color: white; border: none; padding: 12px; width: 100%; border-radius: 6px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background: var(--earth-brown); }
    </style>
</head>
<body>

<header class="hero">
    <h1>FINAN√áA ANIMAL</h1>
</header>

<div class="dashboard">
    <section class="dash-card">
        <h2>üí∞ Planejamento</h2>
        <input type="number" id="ali" placeholder="Alimenta√ß√£o (Mensal)">
        <input type="number" id="sau" placeholder="Sa√∫de (Mensal)">
        <input type="number" id="mim" placeholder="Mimos (Mensal)">
        <button onclick="calcularTudo()">ANALISAR GASTOS</button>
        <div id="chart_div" style="height: 140px; margin-top: 10px;"></div>
        <p style="font-size: 0.8rem; color: #d32f2f; font-weight: bold; text-align: center; margin-top: 10px;">üõ°Ô∏è Emerg√™ncia: <span id="reserva">R$ 0,00</span></p>
    </section>

    <section class="dash-card">
        <h2>üí° Dicas <button onclick="sortearDicas()" style="width: auto; padding: 2px 10px; font-size: 10px;">üîÑ ATUALIZAR</button></h2>
        <div class="flip-container" id="containerDicas">
            </div>
    </section>

    <section class="dash-card">
        <h2>üì∏ Momento Fofura</h2>
        <div class="galeria-grid" id="galeriaFotos"></div>
        <button onclick="carregarFotos()" style="margin-top: 12px; background: none; color: var(--accent-gold); border: 1px solid var(--accent-gold); font-size: 0.8rem;">üîÑ NOVAS FOTOS</button>
    </section>

    <section class="mural-input">
        <h2 style="text-align: center; border: none;">üìñ Registre a hist√≥ria do seu Pet com uma foto</h2>
        <div style="max-width: 500px; margin: 0 auto;">
            <input type="text" id="nomePet" placeholder="Nome do Pet">
            <textarea id="relato" placeholder="Como voc√™s se conheceram?"></textarea>
            <label style="font-size: 0.8rem; font-weight: bold; color: var(--earth-brown);">Anexe a foto do seu melhor amigo:</label>
            <input type="file" id="fotoPet" accept="image/*" style="margin-top: 5px;">
            <button onclick="salvarMural()">REGISTRAR NO MURAL üêæ</button>
        </div>
        <div id="muralGrid" class="mural-grid"></div>
    </section>
</div>

<script>
    google.charts.load('current', {'packages':['corechart']});

    // FOTOS VERIFICADAS (Links est√°veis)
    const listaImagens = [
        "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=200",
        "https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=200",
        "https://images.unsplash.com/photo-1591154665855-51dc3d62291b?w=200",
        "https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=200",
        "https://images.unsplash.com/photo-1548191265-cc70d3d45ba1?w=200",
        "https://images.unsplash.com/photo-1552053831-71594a27632d?w=200",
        "https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?w=200",
        "https://images.unsplash.com/photo-1517423440428-a5a00ad1e3e8?w=200"
    ];

    // BANCO DE DICAS
    const bancoDicas = [
        {f: "Sa√∫de", b: "Check-ups anuais economizam 40% em emerg√™ncias."},
        {f: "Sabia?", b: "Elefantes t√™m mem√≥ria de rotas de √°gua por d√©cadas."},
        {f: "Mimos", b: "Brinquedos feitos em casa (garrafa pet) estimulam o pet."},
        {f: "Economia", b: "Comprar ra√ß√£o em sacos de 15kg reduz 20% o pre√ßo/kg."},
        {f: "Higiene", b: "Escovar os dentes do pet evita t√°rtaro e gastos dent√°rios."},
        {f: "Seguran√ßa", b: "Mantenha a reserva de emerg√™ncia rendendo em CDI."}
    ];

    function sortearDicas() {
        const container = document.getElementById('containerDicas');
        container.innerHTML = "";
        const sorteio = [...bancoDicas].sort(() => 0.5 - Math.random()).slice(0, 4);
        sorteio.forEach(d => {
            container.innerHTML += `<div class="flip-card"><div class="flip-card-inner"><div class="flip-card-front">${d.f}</div><div class="flip-card-back">${d.b}</div></div></div>`;
        });
    }

    function carregarFotos() {
        const grid = document.getElementById('galeriaFotos');
        grid.innerHTML = "";
        [...listaImagens].sort(() => 0.5 - Math.random()).slice(0, 8).forEach(url => {
            const img = document.createElement('img'); img.src = url; grid.appendChild(img);
        });
    }

    function calcularTudo() {
        const sau = parseFloat(document.getElementById('sau').value) || 0;
        document.getElementById('reserva').innerText = `R$ ${(sau * 6).toFixed(2)}`;
        const data = google.visualization.arrayToDataTable([
            ['Gasto', 'R$'], 
            ['Comida', parseFloat(document.getElementById('ali').value) || 0],
            ['Sa√∫de', sau], 
            ['Mimos', parseFloat(document.getElementById('mim').value) || 0]
        ]);
        new google.visualization.PieChart(document.getElementById('chart_div')).draw(data, {
            pieHole: 0.4, colors: ['#3e2723', '#c68642', '#d2b48c'], chartArea:{width:'100%',height:'100%'}, legend:'none'
        });
    }

    function salvarMural() {
        const nome = document.getElementById('nomePet').value;
        const relato = document.getElementById('relato').value;
        const fotoInput = document.getElementById('fotoPet');
        
        if (nome && relato && fotoInput.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const id = Date.now();
                const div = document.createElement('div');
                div.className = 'pet-post';
                div.id = `post-${id}`;
                div.innerHTML = `<button class="btn-delete" onclick="apagarPost('${id}')">X</button><img src="${e.target.result}"><strong>${nome}</strong><p style="font-size:0.8rem;">${relato}</p>`;
                document.getElementById('muralGrid').prepend(div);
                document.getElementById('nomePet').value = ""; document.getElementById('relato').value = "";
            };
            reader.readAsDataURL(fotoInput.files[0]);
        } else { alert("Preencha tudo para registrar seu amigo! üêæ"); }
    }

    function apagarPost(id) {
        if(confirm("Deseja apagar esta hist√≥ria do mural?")) {
            document.getElementById(`post-${id}`).remove();
        }
    }

    window.onload = () => { carregarFotos(); sortearDicas(); };
</script>
</body>
</html>
