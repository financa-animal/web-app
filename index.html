<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finan√ßa Animal | Safari</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        :root {
            --bg-safari: #fdfbf7;
            --accent-gold: #c68642;
            --earth-brown: #3e2723;
            --card-bg: #ffffff;
            --alert-red: #d32f2f;
        }
        body { font-family: 'Georgia', serif; background-color: var(--bg-safari); color: var(--earth-brown); margin: 0; padding-bottom: 50px; overflow-x: hidden; }
        
        /* HEADER */
        .hero { height: 45vh; background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1519098901909-b1553a1190af?q=80&w=2000'); background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; color: white; border-bottom: 5px solid var(--accent-gold); }
        .hero h1 { font-size: 3.5rem; text-shadow: 2px 2px 10px rgba(0,0,0,0.7); margin: 0; text-align: center; }

        .container { max-width: 1100px; margin: -40px auto 20px; padding: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px; }
        .card { background: var(--card-bg); padding: 25px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 6px solid var(--accent-gold); height: fit-content; }
        
        /* CALCULADORA E TERM√îMETRO */
        .emergencia-box { background: #fdf8f3; border-left: 5px solid var(--alert-red); padding: 15px; border-radius: 5px; margin-top: 15px; display: flex; align-items: center; gap: 12px; }

        /* CARTAS QUE GIRAM (FLIP) */
        .flip-card { background-color: transparent; width: 100%; height: 160px; perspective: 1000px; cursor: pointer; margin-top: 10px; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: 12px; display: flex; align-items: center; justify-content: center; padding: 15px; box-sizing: border-box; }
        .flip-card-front { background-color: var(--earth-brown); color: white; border: 2px solid var(--accent-gold); font-weight: bold; font-size: 1.2rem; }
        .flip-card-back { background-color: var(--accent-gold); color: white; transform: rotateY(180deg); font-size: 0.95rem; line-height: 1.4; }

        /* DICA DO DIA */
        .dica-card { background: var(--earth-brown); color: white; padding: 25px; border-radius: 12px; margin-top: 20px; border-left: 8px solid var(--accent-gold); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }

        /* SAFARI TV E FOTOS */
        .multimedia-section { grid-column: 1 / -1; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .safari-tv { background: #1a1a1a; color: white; padding: 25px; border-radius: 12px; text-align: center; border-bottom: 5px solid var(--accent-gold); }
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; margin-top: 15px; display: none; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .foto-fofura { width: 100%; height: 250px; object-fit: cover; border-radius: 12px; border: 4px solid var(--accent-gold); }

        /* MURAL */
        .mural-container { grid-column: 1 / -1; background: var(--card-bg); padding: 35px; border-radius: 12px; border-top: 6px solid var(--earth-brown); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .mural-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-top: 30px; }
        .post-pet { background: #fff; border: 1px solid #eee; padding: 15px; border-radius: 8px; text-align: center; transition: 0.3s; }
        .post-pet:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .post-pet img { width: 100%; height: 200px; object-fit: cover; border-radius: 5px; }

        input, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; margin-bottom: 10px; font-family: inherit; box-sizing: border-box; font-size: 1rem; }
        button { background: var(--earth-brown); color: white; border: none; padding: 15px; width: 100%; cursor: pointer; border-radius: 5px; font-weight: bold; transition: 0.3s; font-size: 1rem; }
        button:hover { background: var(--accent-gold); }
        .btn-binoculo { background: #c68642; color: white; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<header class="hero">
    <h1>FINAN√áA ANIMAL</h1>
</header>

<div class="container">
    <section class="card">
        <h2>üí∞ Planejamento</h2>
        <input type="number" id="ali" placeholder="Alimenta√ß√£o (Mensal)">
        <input type="number" id="sau" placeholder="Sa√∫de (Mensal)">
        <input type="number" id="mim" placeholder="Mimos (Mensal)">
        <button onclick="calcularTudo()">CALCULAR E ANALISAR</button>
        <div id="chart_div" style="height: 200px; margin-top: 15px;"></div>
        <div class="emergencia-box">
            <span style="font-size: 1.5rem;">üõ°Ô∏è</span>
            <div>
                <strong style="font-size: 0.85rem; display: block; color: var(--earth-brown);">Term√¥metro de Emerg√™ncia</strong>
                <span id="valor-reserva" style="color: var(--alert-red); font-weight: bold; font-size: 1.2rem;">R$ 0,00</span>
            </div>
        </div>
    </section>

    <div>
        <section class="card">
            <h2>üí° Voc√™ Sabia?</h2>
            <p style="font-size: 0.85rem; color: #666; margin-top: -10px;">Toque na carta para descobrir:</p>
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">üêò Elefante</div>
                    <div class="flip-card-back">Eles nunca esquecem rotas de recursos vitais. Uma li√ß√£o de gest√£o para n√≥s!</div>
                </div>
            </div>
        </section>

        <section class="dica-card">
            <h3 id="titulo-dica" style="margin-top: 0; color: var(--accent-gold);"></h3>
            <p id="texto-dica" style="margin-bottom: 0; font-style: italic;"></p>
        </section>
    </div>

    <div class="multimedia-section">
        <section class="safari-tv">
            <h3 style="margin: 0;">üé¨ Safari TV</h3>
            <p style="font-size: 0.9rem; margin: 10px 0;">O que o bin√≥culo vai revelar hoje?</p>
            <button onclick="verVideoSurpresa()" class="btn-binoculo">üî≠ USAR BIN√ìCULO</button>
            <div id="videoContainer" class="video-container">
                <iframe id="safariVideo" src="" frameborder="0" allowfullscreen></iframe>
            </div>
        </section>

        <section class="card" style="text-align: center;">
            <h3 style="margin: 0 0 15px 0;">üì∏ Momento Fofura</h3>
            <img id="fotoFofa" src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=500" class="foto-fofura">
            <button onclick="mudarFoto()" style="margin-top: 10px; width: auto; padding: 8px 20px;">PR√ìXIMA üêæ</button>
        </section>
    </div>

    <section class="mural-container">
        <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">üìñ Conte-nos quando a sua hist√≥ria com seu pet come√ßou</h2>
        <div style="background: #fdfbf7; padding: 30px; border-radius: 15px; border: 2px dashed var(--accent-gold); max-width: 700px; margin: 0 auto;">
            <input type="text" id="nomePet" placeholder="Nome do seu Pet">
            <textarea id="relato" rows="4" placeholder="Conte aquele momento especial do primeiro encontro..."></textarea>
            <label style="display: block; margin-bottom: 10px; font-weight: bold; font-size: 0.9rem;">Escolha uma foto bem fofa:</label>
            <input type="file" id="fotoPet" accept="image/*">
            <button onclick="salvarHistoria()">REGISTRAR NO MURAL</button>
        </div>
        <div id="muralGrid" class="mural-grid"></div>
    </section>
</div>

<script>
    google.charts.load('current', {'packages':['corechart']});

    const dicas = [
        { t: "üåø Sa√∫de (Geral)", m: "Check-ups preventivos evitam surpresas financeiras pesadas no futuro." },
        { t: "üß† Comportamento", m: "Brinquedos de roer ajudam a gastar energia e evitam a destrui√ß√£o de m√≥veis em casa." },
        { t: "üåø Sa√∫de (Gatos)", m: "Gatos bebem mais √°gua se ela for corrente. Considere uma fonte el√©trica." },
        { t: "üß† Comportamento", m: "C√£es aprendem melhor com refor√ßo positivo (petiscos e carinho) do que com broncas." }
    ];

    const videos = [
        "https://www.youtube.com/embed/5mZ2vK7HqgU",
        "https://www.youtube.com/embed/7V6h7XlT4S0",
        "https://www.youtube.com/embed/9Bf3G-K7Lgs"
    ];

    const fotos = [
        "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=500",
        "https://images.unsplash.com/photo-1592194996308-7b43878e84a6?q=80&w=500",
        "https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=500",
        "https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?q=80&w=500"
    ];

    window.onload = function() {
        const d = dicas[Math.floor(Math.random() * dicas.length)];
        document.getElementById('titulo-dica').innerText = d.t;
        document.getElementById('texto-dica').innerText = d.m;
        exibirHistorias();
    };

    function calcularTudo() {
        const ali = parseFloat(document.getElementById('ali').value) || 0;
        const sau = parseFloat(document.getElementById('sau').value) || 0;
        const mim = parseFloat(document.getElementById('mim').value) || 0;
        document.getElementById('valor-reserva').innerText = `R$ ${(sau * 4).toFixed(2)}`;
        
        const data = google.visualization.arrayToDataTable([
            ['Gasto', 'R$'], ['Alimenta√ß√£o', ali], ['Sa√∫de', sau], ['Mimos', mim]
        ]);
        new google.visualization.PieChart(document.getElementById('chart_div')).draw(data, {
            pieHole: 0.4, colors: ['#3e2723', '#c68642', '#8d6e63'], chartArea: {width:'95%', height:'85%'}, legend: 'none'
        });
    }

    function verVideoSurpresa() {
        const c = document.getElementById('videoContainer');
        const i = document.getElementById('safariVideo');
        i.src = videos[Math.floor(Math.random() * videos.length)];
        c.style.display = 'block';
    }

    function mudarFoto() {
        document.getElementById('fotoFofa').src = fotos[Math.floor(Math.random() * fotos.length)];
    }

    function salvarHistoria() {
        const nome = document.getElementById('nomePet').value;
        const texto = document.getElementById('relato').value;
        const fotoInput = document.getElementById('fotoPet');
        if (!nome || !texto || !fotoInput.files[0]) return alert("Preencha todos os campos e escolha uma foto!");

        const reader = new FileReader();
        reader.onload = function(e) {
            const historias = JSON.parse(localStorage.getItem('muralPets')) || [];
            historias.push({ nome, relato: texto, foto: e.target.result });
            localStorage.setItem('muralPets', JSON.stringify(historias));
            exibirHistorias();
            document.getElementById('nomePet').value = '';
            document.getElementById('relato').value = '';
        };
        reader.readAsDataURL(fotoInput.files[0]);
    }

    function exibirHistorias() {
        const grid = document.getElementById('muralGrid');
        const historias = JSON.parse(localStorage.getItem('muralPets')) || [];
        grid.innerHTML = historias.map(h => `
            <div class="post-pet"><img src="${h.foto}"><h3>${h.nome}</h3><p style="font-size:0.9rem; padding:0 10px;">"${h.relato}"</p></div>
        `).join('');
    }
</script>
</body>
</html>
