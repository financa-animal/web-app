<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Finan√ßa Animal</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f4efe9;}
h1{margin:0;padding:18px;text-align:center;color:white;font-size:22px;
background:url('https://images.unsplash.com/photo-1558788353-f76d92427f16') center/cover;}

.container{display:flex;gap:15px;padding:15px;flex-wrap:wrap;}
.card{background:white;padding:12px;border-radius:10px;box-shadow:0 3px 6px rgba(0,0,0,0.1);flex:1;min-width:260px;}

h3{margin:5px 0 10px;font-size:16px;}
input,textarea{width:100%;padding:6px;margin:4px 0;font-size:12px;}
button{background:#c68a3c;border:none;color:white;padding:8px;border-radius:6px;cursor:pointer;width:100%;font-size:12px;}

.galeria{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.post{background:#fff;border-radius:8px;padding:6px;box-shadow:0 2px 4px rgba(0,0,0,0.1);font-size:12px;}
.post img{width:100%;height:120px;object-fit:cover;border-radius:8px;}

.like{color:red;cursor:pointer;font-size:12px}

/* TIKTOK */
.tiktok-feed{height:300px;overflow-y:auto;scroll-snap-type:y mandatory;border-radius:10px}
.tiktok-video{height:300px;scroll-snap-align:start;margin-bottom:8px}
.tiktok-video iframe{width:100%;height:100%;border-radius:10px}

canvas{max-height:180px}
</style>
</head>

<body>
<h1>FINAN√áA ANIMAL</h1>

<div class="container">

<div class="card">
<h3>üí∞ Planejamento</h3>
<input type="number" id="alimentacao" placeholder="Alimenta√ß√£o">
<input type="number" id="saude" placeholder="Sa√∫de">
<input type="number" id="mimos" placeholder="Mimos">
<button onclick="calcular()">ANALISAR GASTOS</button>
<canvas id="grafico"></canvas>
<p style="color:red;font-size:12px">Emerg√™ncia: R$ <span id="emergencia">0</span></p>
</div>

<div class="card">
<h3>üí° Dicas</h3>
<div id="dicas"></div>
</div>

<div class="card">
<h3>üì∏ Fotos Fofas</h3>
<div class="galeria" id="galeriaFotos"></div>

<h3 style="margin-top:10px">üé¨ V√≠deos Fofos</h3>
<div class="tiktok-feed" id="feedVideos"></div>
</div>

</div>

<div class="card" style="margin:15px">
<h3>üìñ Hist√≥ria do seu Pet</h3>
<input id="nomePet" placeholder="Nome do Pet">
<textarea id="historiaPet" placeholder="Conte a hist√≥ria..."></textarea>
<input type="file" id="fotoPet">
<button onclick="publicarHistoria()">PUBLICAR</button>
<div id="historias"></div>
</div>

<script>
let grafico;

/* CALCULADORA */
function calcular(){
const a=+alimentacao.value||0;
const s=+saude.value||0;
const m=+mimos.value||0;
emergencia.textContent=(s*6).toFixed(2);

if(grafico)grafico.destroy();
grafico=new Chart(document.getElementById('grafico'),{
type:'doughnut',
data:{labels:['Alimenta√ß√£o','Sa√∫de','Mimos'],
datasets:[{data:[a,s,m],backgroundColor:['#7b4b2a','#c68a3c','#e0b27a']}]},
options:{plugins:{legend:{display:false}}}
});
}

/* DICAS AUTO ATUALIZANDO */
const listaDicas=[
"Vacina√ß√£o em dia evita gastos enormes.",
"Escovar dentes do pet reduz problemas.",
"Castra√ß√£o previne doen√ßas e fugas.",
"Passeios di√°rios melhoram sa√∫de mental.",
"Guardar 20% para emerg√™ncias √© ideal."
];

function atualizarDicas(){
dicas.innerHTML="";
listaDicas.sort(()=>0.5-Math.random()).slice(0,2)
.forEach(d=>dicas.innerHTML+=`<p>‚Ä¢ ${d}</p>`);
}
setInterval(atualizarDicas,5000);

/* FOTOS */
const fotos=[
"https://images.unsplash.com/photo-1517849845537-4d257902454a",
"https://images.unsplash.com/photo-1543466835-00a7907e9de1",
"https://images.unsplash.com/photo-1558788353-f76d92427f16",
"https://images.unsplash.com/photo-1583511655826-05700442b31b"
];
fotos.forEach(f=>galeriaFotos.innerHTML+=`
<div class="post">
<img src="${f}">
<span class="like" onclick="curtir(this)">‚ù§ 0</span>
<input placeholder="Comentar..." onkeydown="comentario(event,this)">
</div>`);

/* VIDEOS CURTOS */
const videos=[
"https://www.youtube.com/embed/j5a0jTc9S10",
"https://www.youtube.com/embed/cbP2N1BQdYc",
"https://www.youtube.com/embed/5dsGWM5XGdg"
];
videos.forEach(v=>feedVideos.innerHTML+=`
<div class="tiktok-video"><iframe src="${v}" allowfullscreen></iframe></div>`);

function curtir(el){
let n=parseInt(el.textContent.split(" ")[1]);
el.textContent="‚ù§ "+(++n);
}

function comentario(e,input){
if(e.key==="Enter"){input.insertAdjacentHTML("beforebegin",`<p>üí¨ ${input.value}</p>`);input.value="";}
}

/* HIST√ìRIA COM FOTO */
function publicarHistoria(){
const nome=nomePet.value;
const texto=historiaPet.value;
const file=fotoPet.files[0];
if(!file)return;

const reader=new FileReader();
reader.onload=function(){
historias.innerHTML=`
<div class="post">
<h4>${nome}</h4>
<img src="${reader.result}">
<p>${texto}</p>
<span class="like" onclick="curtir(this)">‚ù§ 0</span>
<input placeholder="Comentar..." onkeydown="comentario(event,this)">
</div>`+historias.innerHTML;
}
reader.readAsDataURL(file);
}

window.onload=atualizarDicas;
</script>
</body>
</html>
